{"version":3,"sources":["markdownEditor/Preview.js","markdownEditor/DocumentList.js","markdownEditor/ExtendPanel.js","markdownEditor/Drawer.js","markdownEditor/Dialog.js","markdownEditor/ColorPicker.js","markdownEditor/utils.js","markdownEditor/Settings.js","markdownEditor/AppBar.js","markdownEditor/Markdown.js","markdownEditor/MarkdownEditor.js","markdownEditor/config.js","index.js"],"names":["md","MarkdownIt","html","linkify","typographer","highlight","str","lang","hljs","getLanguage","value","__","utils","escapeHtml","Preview","state","expand","_this","renderJsonView","setState","this","addStyles","content","document","getElementById","innerHTML","JsonViewer","container","data","props","input","theme","e","contentStyles","color","fontFamily","tableStyles","borderSpacing","thStyles","height","background","padding","borderBottom","textAlign","fontWeight","tdStyles","fontSize","lineHeight","boxSizing","liStyles","linkStyles","textDecoration","codeStyles","borderRadius","inlineCodeStyles","yinYongStyles","borderLeft","paddingLeft","Object","keys","forEach","key","style","yinYongArr","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","yinYong","_iterator","Symbol","iterator","next","done","err","return","codeArr","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop2","code","_iterator2","inlineCodeArr","inlineCodeArr2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_loop3","inlineCode","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_loop4","_iterator4","liArr","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_loop5","li","_iterator5","aArr","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_loop6","a","_iterator6","tables","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_loop7","table","thArr","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_loop8","th","_iterator8","tdArr","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_loop9","td","_iterator9","_iterator7","react_default","createElement","className","I18n","t","Tooltip_default","title","placement","IconButton_default","size","onClick","id","React","Component","CheckboxList","handleAction","index","toggleDrawer","switchCurrent","openFile","editTitle","span","querySelector","setAttribute","focus","border","addEventListener","getAttribute","stopPropagation","updateTitle","innerText","_this2","_this$props","classes","fileList","deleteAction","current","List_default","root","map","item","ListItem_default","selected","dense","button","ListItemText_default","primary","ListItemSecondaryAction_default","withStyles","width","maxWidth","backgroundColor","palette","paper","listItem","marginTop","marginLeft","selectedItem","margin","heading","typography","pxToRem","fontWeightRegular","panelDetails","addDocment","saveDoc","ExpansionPanel_default","defaultExpanded","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","Typography_default","ExpansionPanelDetails_default","DocumentList","TemporaryDrawer","open","Drawer_default","onClose","tabIndex","role","list","onKeyDown","ExtendPanel","Button_default","variant","display","AlertDialog","toggleDialog","type","Dialog_default","aria-labelledby","aria-describedby","DialogTitle_default","DialogContent_default","DialogActions_default","Fragment","autoFocus","getActionBtn","SketchExample","displayColorPicker","handleClick","handleClose","handleChange","onChange","console","log","styles","reactCSS","default","swatch","cursor","popover","position","zIndex","boxShadow","right","cover","top","bottom","left","react_color_lib","rgb","hex","concat","r","g","b","match","length","parseInt","toString","slice","Settings","Select_default","setLocale","target","handleSettingChange","MenuItem_default","ColorPicker","primaryColor","Switch_default","checked","autoSave","flexGrow","grow","menuButton","marginRight","openIcon","MenuAppBar","auth","anchorEl","previewAnchorEl","importAnchorEl","showSettings","handleImportClose","importMD","previewHtml","handleImport","event","currentTarget","handlePreivew","handleMenu","handlePreviewClose","previewPdf","previewMD","exportPdf","exportMD","exportHtml","goToGithub","window","location","toggleSetting","loginGit","_this$state","Boolean","preivewOpen","importOpen","AppBar_default","markdownEditor_Dialog","Toolbar_default","aria-label","Menu_default","aria-owns","aria-haspopup","core_Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","containerelement","activine","CodeMirror","Markdown","showHelp","preview","toggleHelp","formatJson","range","from","myCodeMirror","getCursor","to","autoFormatRange","openTogglePreview","preProps","renderMarkdown","codeDom","parentNode","removeChild","handleValueChange","mode","name","highlightFormatting","lineNumbers","indentUnit","showCursorWhenSelecting","autofocus","cursorScrollMargin","cursorHeight","spellcheck","activeLine","autocorrect","lineWrapping","on","getValue","addKeDownEvent","_this$props2","switchFileById","closeFile","react","filter","file","save","fullContainer","overflow","float","settingStr","localStorage","getItem","settingObj","JSON","parse","defaultPrimary","defaultSecondary","secondary","defaultAutoSave","defaultLang","setTranslations","en","zh","createMuiTheme","main","useNextVariants","getDefaultText","MarkdownEditor","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","fullScreen","updateFileListText","ctrlKey","which","saveCurrentDoc","preventDefault","defineProperty","updateTheme","saveToLocalStorage","autoSaveDoc","clearInterval","saveTimer","element","opt","filename","replace","image","quality","pagebreak","html2canvas","dpi","letterRendering","useCORS","imageTimeout","jsPDF","unit","format","orientation","html2pdf","set","toPdf","get","then","pdf","output","getPdf","callback","_this$state2","_this$state3","_this$state4","win","write","_this$state5","text","_this$state6","download","_this$state7","indexForId","newFileList","stringify","i","setItem","switched","openId","currentSaveStr","currentSaveArr","handleEvents","openDialog","arguments","getIndex","toConsumableArray","Math","random","curr","cache","showMessage","closeSnack","snackOpen","confirmed","newList","temp","openIndex","gotIndex","deleteById","msg","snackMsg","openFullScreen","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","files","reader","FileReader","onload","contents","result","readAsText","historyList","converter","Showdown","simplifiedAutoLink","Array","currentIndex","split","Number","isNaN","max","apply","_this3","setTimeout","vars","href","m","saved","currentDoc","inde","push","_this4","setInterval","encodeURIComponent","body","appendChild","click","scroolDom","timer","reset","clearTimeout","scrollScale","scrollTop","scrollHeight","clientHeight","newFiles","_this$state8","deleteId","core_styles","trim","markdownEditor_AppBar","markdownEditor_Drawer","Markdown_Markdown","currentId","Preview_Preview","Snackbar_default","autoHideDuration","message","action","Close_default","render","MarkdownEditor_MarkdownEditor"],"mappings":"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","file":"static/js/main.2b68f74f.chunk.js","sourcesContent":["import React from \"react\";\nimport hljs from \"highlight.js\";\nimport MarkdownIt from \"markdown-it\";\nimport \"highlight.js/styles/atom-one-light.css\";\nimport { I18n } from \"react-i18nify\";\nimport JsonViewer from \"json-viewer-js\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst md = new MarkdownIt({\n  html: true,\n  linkify: true,\n  typographer: true,\n  highlight: function(str, lang) {\n    if (lang && hljs.getLanguage(lang)) {\n      try {\n        return (\n          '<pre class=\"hljs\"><code>' +\n          hljs.highlight(lang, str, true).value +\n          \"</code></pre>\"\n        );\n      } catch (__) {}\n    }\n    return (\n      '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + \"</code></pre>\"\n    );\n  }\n});\n\nexport default class Preview extends React.Component {\n  state = {\n    expand: false\n  };\n\n  componentDidMount() {\n    this.addStyles();\n    this.renderJsonView(this.state.expand);\n  }\n\n  expand = () => {\n    this.renderJsonView(!this.state.expand);\n    this.setState({\n      expand: !this.state.expand\n    });\n  };\n\n  renderJsonView(expand) {\n    const content = document.getElementById(\"content\");\n    if (content) {\n      content.innerHTML = \"\";\n    } else {\n      return;\n    }\n\n    try {\n      new JsonViewer({\n        container: content,\n        data: this.props.input,\n        theme: \"light\",\n        expand: expand\n      });\n    } catch (e) {\n      new JsonViewer({\n        container: content,\n        data: `{ \"infor\": \"It's not a json format\" }`,\n        theme: \"light\",\n        expand: expand\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    this.addStyles();\n    this.renderJsonView(this.state.expand);\n  }\n\n  addStyles() {\n    let contentStyles = {\n      color: \"#464646\",\n      fontFamily: \"-webkit-body\"\n    };\n    let tableStyles = {\n      borderSpacing: 0\n    };\n    let thStyles = {\n      height: \"25px\",\n      background: \"#fafafa\",\n      padding: \"10px\",\n      borderBottom: \"1px solid #e8e8e8\",\n      textAlign: \"left\",\n      color: \"rgba(0, 0, 0, 0.85)\",\n      fontWeight: 500\n    };\n    let tdStyles = {\n      borderBottom: \"1px solid #e8e8e8\",\n      height: \"25px\",\n      padding: \"10px\",\n      fontSize: \"14px\",\n      lineHeight: \"1.5\",\n      color: \"rgba(0, 0, 0, 0.65)\",\n      boxSizing: \"border-b\"\n    };\n    let liStyles = {\n      lineHeight: \"30px\"\n    };\n    let linkStyles = {\n      color: \"#d32f2f\",\n      textDecoration: \"underline\"\n    };\n    let codeStyles = {\n      lineHeight: \"30px\",\n      background: \"#ececec\",\n      borderRadius: \"3px\"\n    };\n    let inlineCodeStyles = {\n      background: \"#ececec\",\n      padding: \"5px\",\n      borderRadius: \"3px\"\n    };\n    let yinYongStyles = {\n      borderLeft: \"3px solid #616161\",\n      paddingLeft: \"10px\"\n    };\n    let content = document.getElementById(\"content\");\n    Object.keys(contentStyles).forEach(\n      key => (content.style[key] = contentStyles[key])\n    );\n    let yinYongArr = content.querySelectorAll(\"blockquote p\");\n    for (let yinYong of yinYongArr) {\n      Object.keys(yinYongStyles).forEach(\n        key => (yinYong.style[key] = yinYongStyles[key])\n      );\n    }\n    let codeArr = content.querySelectorAll(\"pre\");\n    for (let code of codeArr) {\n      Object.keys(codeStyles).forEach(\n        key => (code.style[key] = codeStyles[key])\n      );\n    }\n    let inlineCodeArr = content.querySelectorAll(\"p code\");\n    let inlineCodeArr2 = content.querySelectorAll(\"li code\");\n    for (let inlineCode of inlineCodeArr) {\n      Object.keys(inlineCodeStyles).forEach(\n        key => (inlineCode.style[key] = inlineCodeStyles[key])\n      );\n    }\n    for (let inlineCode of inlineCodeArr2) {\n      Object.keys(inlineCodeStyles).forEach(\n        key => (inlineCode.style[key] = inlineCodeStyles[key])\n      );\n    }\n    let liArr = content.querySelectorAll(\"li\");\n    for (let li of liArr) {\n      Object.keys(liStyles).forEach(key => (li.style[key] = liStyles[key]));\n    }\n    let aArr = content.querySelectorAll(\"a\");\n    for (let a of aArr) {\n      Object.keys(linkStyles).forEach(key => (a.style[key] = linkStyles[key]));\n    }\n    let tables = content.querySelectorAll(\"table\");\n    for (let table of tables) {\n      Object.keys(tableStyles).forEach(\n        key => (table.style[key] = tableStyles[key])\n      );\n      let thArr = table.querySelectorAll(\"th\");\n      for (let th of thArr) {\n        Object.keys(thStyles).forEach(key => (th.style[key] = thStyles[key]));\n      }\n      let tdArr = table.querySelectorAll(\"td\");\n      for (let td of tdArr) {\n        Object.keys(tdStyles).forEach(key => (td.style[key] = tdStyles[key]));\n      }\n    }\n  }\n\n  render() {\n    // const { input } = this.props;\n    // const result = md.render(input);\n    return (\n      <div className=\"preview-container\">\n        <div className=\"preview-title\">\n          <div className=\"preview-title-left\">{I18n.t(\"preview\")} </div>\n          <div className=\"preview-title-right\">\n            <div className=\"word-count\">\n              <Tooltip title={I18n.t(\"toggle view\")} placement=\"bottom\">\n                <IconButton\n                  size=\"small\"\n                  className=\"help-btn\"\n                  onClick={this.expand}\n                >\n                  <i className=\"material-icons\" fontSize=\"small\">\n                    chrome_reader_mode\n                  </i>\n                </IconButton>\n              </Tooltip>\n            </div>\n            {/* <div className=\"word-count\">\n              <span className=\"key\">{I18n.t(\"words\")}:</span>&nbsp;\n              {\n                input.split(/\\s|\\t|\\n/gi).filter(item => item.trim() !== \"\")\n                  .length\n              }\n            </div>\n            <div className=\"word-count\">\n              <span className=\"key\">{I18n.t(\"characters\")}:</span>&nbsp;\n              {input.length}\n            </div> */}\n          </div>\n        </div>\n        <div className=\"preview\">\n          <div id=\"content\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { I18n } from \"react-i18nify\";\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  listItem: {\n    marginTop: \"10px\"\n  },\n  button: {\n    marginLeft: 10\n  },\n  selectedItem: {\n    marginTop: \"10px\",\n    color: \"red\"\n  }\n});\n\nclass CheckboxList extends React.Component {\n  handleAction = index => {\n    this.props.toggleDrawer();\n    this.props.switchCurrent(index);\n    this.props.openFile(index);\n  };\n\n  editTitle = id => {\n    let target = document.getElementById(id);\n    let span = target.querySelector(\"div span\");\n    span.setAttribute(\"contentEditable\", true);\n    span.focus();\n    span.style.border = \"1px solid grey\";\n    span.addEventListener(\"click\", e => {\n      if (span.getAttribute(\"contentEditable\") === \"true\") {\n        e.stopPropagation();\n      }\n    });\n    span.addEventListener(\"keydown\", e => e.stopPropagation());\n    span.addEventListener(\"blur\", () => {\n      span.setAttribute(\"contentEditable\", false);\n      span.style.border = \"none\";\n      this.props.updateTitle(id, span.innerText);\n    });\n  };\n\n  render() {\n    const { classes, fileList, deleteAction, current } = this.props;\n    return (\n      <List className={classes.root}>\n        {fileList.map((item, index) => (\n          <ListItem\n            id={item.id}\n            key={item.id}\n            index={index}\n            selected={index === current}\n            className=\"title-list-ite\"\n            dense\n            button\n            onClick={() => {\n              this.handleAction(index);\n            }}\n          >\n            <ListItemText\n              className=\"doc-title-input\"\n              primary={item.title}\n              title={item.title}\n            />\n            <ListItemSecondaryAction className=\"file-action-icon\">\n              <Tooltip title={I18n.t(\"rename\")} placement=\"top\">\n                <IconButton\n                  className=\"doc-action-btn\"\n                  onClick={() => this.editTitle(item.id)}\n                >\n                  <i className=\"material-icons\">edit</i>\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={I18n.t(\"delete\")} placement=\"top\">\n                <IconButton\n                  className=\"doc-action-btn\"\n                  onClick={() => deleteAction(item.id)}\n                >\n                  <i className=\"material-icons\">delete</i>\n                </IconButton>\n              </Tooltip>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n    );\n  }\n}\n\nCheckboxList.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(CheckboxList);\n","import DocumentList from \"./DocumentList\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { I18n } from \"react-i18nify\";\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    margin: \"0 auto\"\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  },\n  panelDetails: {\n    padding: 0\n  }\n});\n\nfunction SimpleExpansionPanel(props) {\n  const {\n    classes,\n    fileList,\n    switchCurrent,\n    toggleDrawer,\n    addDocment,\n    deleteAction,\n    saveDoc,\n    current,\n    openFile,\n    updateTitle\n  } = props;\n  return (\n    <div className={classes.root}>\n      <ExpansionPanel defaultExpanded={true} className=\"document-list\">\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <Typography className={classes.heading}>\n            {I18n.t(\"documents\")}\n          </Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails className={classes.panelDetails}>\n          <DocumentList\n            fileList={fileList}\n            switchCurrent={switchCurrent}\n            toggleDrawer={toggleDrawer}\n            addDocment={addDocment}\n            deleteAction={deleteAction}\n            saveDoc={saveDoc}\n            updateTitle={updateTitle}\n            current={current}\n            openFile={openFile}\n          />\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </div>\n  );\n}\n\nSimpleExpansionPanel.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(SimpleExpansionPanel);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport ExtendPanel from \"./ExtendPanel\";\nimport Button from \"@material-ui/core/Button\";\nimport { I18n } from \"react-i18nify\";\n\nconst styles = {\n  list: {\n    width: 250\n  },\n  title: {\n    paddingLeft: \"20px\"\n  },\n  button: {\n    display: \"block\",\n    width: \"90%\",\n    margin: \"10px auto\"\n  }\n};\n\nclass TemporaryDrawer extends React.Component {\n  render() {\n    const {\n      classes,\n      open,\n      toggleDrawer,\n      fileList,\n      switchCurrent,\n      addDocment,\n      deleteAction,\n      saveDoc,\n      current,\n      openFile,\n      updateTitle\n    } = this.props;\n    return (\n      <div>\n        <Drawer open={open} onClose={toggleDrawer}>\n          <div\n            tabIndex={0}\n            role=\"button\"\n            className={classes.list}\n            onKeyDown={toggleDrawer}\n          >\n            <h4 className={classes.title}>{I18n.t(\"title\")}</h4>\n            <ExtendPanel\n              fileList={fileList}\n              switchCurrent={switchCurrent}\n              toggleDrawer={toggleDrawer}\n              addDocment={addDocment}\n              deleteAction={deleteAction}\n              saveDoc={saveDoc}\n              updateTitle={updateTitle}\n              current={current}\n              openFile={openFile}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={addDocment}\n            >\n              {I18n.t(\"new document\")}\n            </Button>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={saveDoc}\n            >\n              {I18n.t(\"save session\")}\n            </Button>\n          </div>\n        </Drawer>\n      </div>\n    );\n  }\n}\n\nTemporaryDrawer.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(TemporaryDrawer);\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { I18n } from \"react-i18nify\";\r\n\r\nconst getActionBtn = (type, toggleDialog) => {\r\n  if (type === \"help\") {\r\n    return (\r\n      <Button onClick={() => toggleDialog(false)} color=\"primary\">\r\n        {I18n.t(\"cancel\")}\r\n      </Button>\r\n    );\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Button onClick={() => toggleDialog(false)} color=\"primary\">\r\n        {I18n.t(\"cancel\")}\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        onClick={() => toggleDialog(true)}\r\n        color=\"secondary\"\r\n        autoFocus\r\n      >\r\n        Yes\r\n      </Button>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nclass AlertDialog extends React.Component {\r\n  render() {\r\n    const { title, content, open, toggleDialog, type } = this.props;\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={open}\r\n          onClose={() => toggleDialog(false)}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n          <DialogContent className=\"dialog-content\">{content}</DialogContent>\r\n          <DialogActions>{getActionBtn(type, toggleDialog)}</DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AlertDialog;\r\n","import React from \"react\";\r\nimport reactCSS from \"reactcss\";\r\nimport { BlockPicker } from \"react-color\";\r\nimport { rgb2hex } from \"./utils\";\r\n\r\nclass SketchExample extends React.Component {\r\n  state = {\r\n    displayColorPicker: false\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ displayColorPicker: false });\r\n  };\r\n\r\n  handleChange = color => {\r\n    this.setState({ color });\r\n  };\r\n\r\n  render() {\r\n    const { onChange, color } = this.props;\r\n    console.log(color);\r\n    const styles = reactCSS({\r\n      default: {\r\n        color: {\r\n          width: \"36px\",\r\n          height: \"14px\",\r\n          borderRadius: \"2px\",\r\n          background: color\r\n        },\r\n        swatch: {\r\n          padding: \"5px\",\r\n          background: \"#fff\",\r\n          borderRadius: \"1px\",\r\n          border: \"1px solid #000\",\r\n          display: \"inline-block\",\r\n          cursor: \"pointer\"\r\n        },\r\n        popover: {\r\n          position: \"absolute\",\r\n          zIndex: \"2\",\r\n          boxShadow: \"rgba(0, 0, 0, 0.1) 0 0px 10px\",\r\n          right: \"-60px\"\r\n        },\r\n        cover: {\r\n          position: \"fixed\",\r\n          top: \"0px\",\r\n          right: \"0px\",\r\n          bottom: \"0px\",\r\n          left: \"0px\"\r\n        }\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <div style={styles.swatch} onClick={this.handleClick}>\r\n          <div style={styles.color} />\r\n        </div>\r\n        {this.state.displayColorPicker ? (\r\n          <div style={styles.popover}>\r\n            <div style={styles.cover} onClick={this.handleClose} />\r\n            <BlockPicker\r\n              color={color}\r\n              onChange={(color, e) => {\r\n                const hex = rgb2hex(\r\n                  `rgb(${color.rgb.r}, ${color.rgb.g}, ${color.rgb.b})`\r\n                );\r\n                onChange(\"primary\", hex, e);\r\n                this.handleChange(hex);\r\n              }}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SketchExample;\r\n","export const rgb2hex = rgb => {\r\n  rgb = rgb.match(\r\n    /^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i\r\n  );\r\n  return rgb && rgb.length === 4\r\n    ? \"#\" +\r\n        (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\r\n        (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\r\n        (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2)\r\n    : \"\";\r\n};\r\n","import React from \"react\";\r\nimport CusColorPicker from \"./ColorPicker\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { I18n } from \"react-i18nify\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport default props => (\r\n  <div style={{ width: \"550px\", height: \"380px\" }}>\r\n    <div className=\"setting-row\">\r\n      <span className=\"setting-key\">{I18n.t(\"language\")}:</span>\r\n      <span className=\"setting-value\">\r\n        <Select\r\n          value={props.lang}\r\n          onChange={e => {\r\n            I18n.setLocale(e.target.value);\r\n            props.handleSettingChange(\"lang\", e.target.value, \"settings\");\r\n          }}\r\n        >\r\n          <MenuItem value=\"en\">English</MenuItem>\r\n          <MenuItem value=\"zh\"></MenuItem>\r\n        </Select>\r\n      </span>\r\n    </div>\r\n    <div className=\"setting-row\">\r\n      <span className=\"setting-key\">{I18n.t(\"theme\")}:</span>\r\n      <span className=\"setting-value\" style={{ marginTop: \"7px\" }}>\r\n        <CusColorPicker\r\n          onChange={props.handleSettingChange}\r\n          color={props.primaryColor}\r\n        />\r\n      </span>\r\n    </div>\r\n    <div className=\"setting-row\">\r\n      <span className=\"setting-key\">{I18n.t(\"auto save\")}:</span>\r\n      <span className=\"setting-value\">\r\n        <Switch\r\n          checked={props.autoSave}\r\n          onChange={(e, value) =>\r\n            props.handleSettingChange(\"autoSave\", value, \"settings\")\r\n          }\r\n          value={props.autoSave}\r\n          color=\"primary\"\r\n        />\r\n      </span>\r\n    </div>\r\n  </div>\r\n);\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Button from \"@material-ui/core/Button\";\nimport AlertDialog from \"./Dialog\";\nimport Settings from \"./Settings\";\n\nimport { I18n } from \"react-i18nify\";\n\nconst styles = {\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  },\n  openIcon: {\n    fontSize: \"15px\",\n    color: \"#bfbfbf\",\n    marginLeft: \"4px\"\n  }\n};\n\nclass MenuAppBar extends React.Component {\n  state = {\n    auth: true,\n    anchorEl: null,\n    previewAnchorEl: null,\n    importAnchorEl: null,\n    showSettings: false\n  };\n\n  handleImportClose = (type, e) => {\n    this.setState({ importAnchorEl: null });\n    if (type && type === \"md\") {\n      this.props.importMD(e);\n    }\n    if (type && type === \"html\") {\n      this.props.previewHtml();\n    }\n  };\n\n  handleImport = event => {\n    this.setState({ importAnchorEl: event.currentTarget });\n  };\n\n  handlePreivew = event => {\n    this.setState({ previewAnchorEl: event.currentTarget });\n  };\n\n  handleMenu = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handlePreviewClose = type => {\n    this.setState({ previewAnchorEl: null });\n    if (type && type === \"pdf\") {\n      this.props.previewPdf();\n    }\n    if (type && type === \"md\") {\n      this.props.previewMD();\n    }\n    if (type && type === \"html\") {\n      this.props.previewHtml();\n    }\n  };\n\n  handleClose = type => {\n    this.setState({ anchorEl: null });\n    if (type && type === \"pdf\") {\n      this.props.exportPdf();\n    }\n    if (type && type === \"md\") {\n      this.props.exportMD();\n    }\n    if (type && type === \"html\") {\n      this.props.exportHtml();\n    }\n  };\n\n  goToGithub = () => {\n    window.location = \"https://github.com/renhongl/json-editor\";\n  };\n\n  toggleSetting = () => {\n    this.setState({\n      showSettings: !this.state.showSettings\n    });\n  };\n\n  loginGit = () => {\n    window.location =\n      \"https://github.com/login/oauth/authorize?client_id=a3be5a8e9cc8df9b2254\";\n  };\n\n  render() {\n    const {\n      classes,\n      toggleDrawer,\n      handleSettingChange,\n      primaryColor,\n      autoSave,\n      lang\n    } = this.props;\n    const {\n      auth,\n      anchorEl,\n      previewAnchorEl,\n      importAnchorEl,\n      showSettings\n    } = this.state;\n    const open = Boolean(anchorEl);\n    const preivewOpen = Boolean(previewAnchorEl);\n    const importOpen = Boolean(importAnchorEl);\n\n    return (\n      <div className={classes.root}>\n        <AppBar position=\"static\">\n          <AlertDialog\n            title={I18n.t(\"settings\")}\n            content={\n              <Settings\n                handleSettingChange={handleSettingChange}\n                primaryColor={primaryColor}\n                autoSave={autoSave}\n                lang={lang}\n              />\n            }\n            toggleDialog={this.toggleSetting}\n            type=\"help\"\n            open={showSettings}\n          />\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n              onClick={toggleDrawer}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n              {I18n.t(\"title\")}\n            </Typography>\n            {auth && (\n              <div>\n                <Button\n                  aria-owns={importOpen ? \"import-menu\" : undefined}\n                  aria-haspopup=\"true\"\n                  onClick={this.handleImport}\n                  color=\"inherit\"\n                >\n                  {I18n.t(\"import from\")}{\" \"}\n                  <i className=\"material-icons\">arrow_drop_down</i>\n                </Button>\n                <Menu\n                  id=\"import-menu\"\n                  anchorEl={importAnchorEl}\n                  anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  open={importOpen}\n                  onClose={this.handleImportClose}\n                >\n                  {/* <MenuItem onClick={() => this.handleImportClose(\"html\")}>\n                    HTML File\n                  </MenuItem> */}\n                  <MenuItem>\n                    <div className=\"import-md-btn\" containerelement=\"label\">\n                      <input\n                        type=\"file\"\n                        onChange={e => this.handleImportClose(\"md\", e)}\n                      />\n                      JSON\n                    </div>\n                  </MenuItem>\n                </Menu>\n\n                <Button\n                  aria-owns={preivewOpen ? \"preview-menu\" : undefined}\n                  aria-haspopup=\"true\"\n                  onClick={this.handlePreivew}\n                  color=\"inherit\"\n                >\n                  {I18n.t(\"preview as\")}{\" \"}\n                  <i className=\"material-icons\">arrow_drop_down</i>\n                </Button>\n                <Menu\n                  id=\"preview-menu\"\n                  anchorEl={previewAnchorEl}\n                  anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  open={preivewOpen}\n                  onClose={this.handlePreviewClose}\n                >\n                  <MenuItem onClick={() => this.handlePreviewClose(\"pdf\")}>\n                    PDF\n                  </MenuItem>\n                  {/* <MenuItem onClick={() => this.handlePreviewClose(\"html\")}>\n                    HTML\n                  </MenuItem> */}\n                  <MenuItem onClick={() => this.handlePreviewClose(\"md\")}>\n                    JSON\n                  </MenuItem>\n                </Menu>\n\n                <Button\n                  aria-owns={open ? \"menu-appbar\" : undefined}\n                  aria-haspopup=\"true\"\n                  onClick={this.handleMenu}\n                  color=\"inherit\"\n                >\n                  {I18n.t(\"export as\")}{\" \"}\n                  <i className=\"material-icons\">arrow_drop_down</i>\n                </Button>\n                <Menu\n                  id=\"menu-appbar\"\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  open={open}\n                  onClose={this.handleClose}\n                >\n                  <MenuItem onClick={() => this.handleClose(\"pdf\")}>\n                    PDF\n                  </MenuItem>\n                  {/* <MenuItem onClick={() => this.handleClose(\"html\")}>\n                    HTML\n                  </MenuItem> */}\n                  <MenuItem onClick={() => this.handleClose(\"md\")}>\n                    JSON\n                  </MenuItem>\n                </Menu>\n                <Button\n                  className={classes.button}\n                  color=\"inherit\"\n                  onClick={this.goToGithub}\n                >\n                  github\n                  <i className=\"material-icons\" style={styles.openIcon}>\n                    open_in_new\n                  </i>\n                </Button>\n                <IconButton\n                  className=\"setting-icon\"\n                  color=\"inherit\"\n                  aria-label=\"Menu\"\n                  onClick={this.toggleSetting}\n                >\n                  <i className=\"material-icons\">settings</i>\n                </IconButton>\n                {/* <IconButton\n                  className=\"setting-icon\"\n                  color=\"inherit\"\n                  aria-label=\"Menu\"\n                  onClick={this.loginGit}\n                >\n                  <i className=\"material-icons\">note_add</i>\n                </IconButton> */}\n              </div>\n            )}\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nMenuAppBar.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(MenuAppBar);\n","import * as React from \"react\";\nimport CodeMirror from \"codemirror\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport activine from \"codemirror-activine\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n// import AlertDialog from \"./Dialog\";\n// import Help from \"./Help\";\nimport { I18n } from \"react-i18nify\";\nimport \"codemirror/mode/javascript/javascript.js\";\nimport \"codemirror-formatting\";\n// import \"codemirror/addon/display/rulers.js\";\n\nactivine(CodeMirror);\n\nexport default class Markdown extends React.Component {\n  state = {\n    showHelp: false,\n    preview: true\n  };\n\n  toggleHelp = () => {\n    this.setState({\n      showHelp: !this.state.showHelp\n    });\n  };\n\n  componentDidUpdate(preProps) {\n    if (preProps.current !== this.props.current) {\n      this.renderMarkdown();\n    }\n  }\n\n  formatJson = () => {\n    const range = {\n      from: this.myCodeMirror.getCursor(true),\n      to: this.myCodeMirror.getCursor(false)\n    };\n    this.myCodeMirror.autoFormatRange(range.from, range.to);\n  };\n\n  renderMarkdown() {\n    let codeDom = document.querySelector(\".CodeMirror\");\n    if (codeDom) {\n      codeDom.parentNode.removeChild(codeDom);\n    }\n    const { value, handleValueChange } = this.props;\n    this.myCodeMirror = CodeMirror(document.querySelector(\".markdown\"), {\n      value: value,\n      mode: { name: \"application/ld+json\", highlightFormatting: true },\n      lineNumbers: true,\n      theme: \"default\",\n      indentUnit: 2,\n      showCursorWhenSelecting: true,\n      autofocus: true,\n      cursorScrollMargin: 5,\n      cursorHeight: 1,\n      spellcheck: true,\n      activeLine: true,\n      autocorrect: true,\n      lineWrapping: true\n    });\n    this.myCodeMirror.on(\"change\", (a, b) => {\n      handleValueChange(this.myCodeMirror.getValue());\n    });\n    this.props.addKeDownEvent();\n  }\n\n  componentDidMount() {\n    this.renderMarkdown();\n  }\n\n  openTogglePreview = () => {\n    if (this.state.preview) {\n      document.querySelector(\".app-left\").style.width = \"100%\";\n      document.querySelector(\".app-right\").style.width = \"0%\";\n      this.setState({\n        preview: false\n      });\n    } else {\n      document.querySelector(\".app-left\").style.width = \"50%\";\n      document.querySelector(\".app-right\").style.width = \"50%\";\n      this.setState({\n        preview: true\n      });\n    }\n  };\n\n  render() {\n    const {\n      // openFullScreen,\n      fileList,\n      current,\n      switchFileById,\n      closeFile\n      // fullScreen\n    } = this.props;\n    // const { showHelp } = this.state;\n\n    return (\n      <div className=\"markdown-container\">\n        {/* <AlertDialog\n          title={I18n.t(\"mardkown syntax help\")}\n          content={<Help />}\n          open={showHelp}\n          toggleDialog={this.toggleHelp}\n          type=\"help\"\n        /> */}\n        <div className=\"markdown-title\">\n          <div className=\"title-file-list\">\n            {fileList\n              .filter(item => item.open)\n              .map((file, index) => (\n                <div\n                  onClick={() => switchFileById(file.id)}\n                  className={\n                    file.id === fileList[current].id\n                      ? \"title-item-wrap selected\"\n                      : \"title-item-wrap\"\n                  }\n                  title={file.title}\n                  key={file.id}\n                >\n                  <div className=\"title-item\">{file.title}</div>\n                  <div\n                    className={\n                      file.save\n                        ? \"title-item-status\"\n                        : \"title-item-status unsave\"\n                    }\n                    onClick={() => closeFile(file.id)}\n                  >\n                    {file.save ? \"\" : <span className=\"unsave-icon\" />}\n                  </div>\n                </div>\n              ))}\n          </div>\n          <Tooltip title={I18n.t(\"markdown syntax\")} placement=\"bottom\">\n            <IconButton\n              aria-label=\"help\"\n              className=\"help-btn\"\n              size=\"small\"\n              onClick={this.formatJson}\n            >\n              <i className=\"material-icons\" fontSize=\"small\">\n                format_list_bulleted\n              </i>\n            </IconButton>\n          </Tooltip>\n          {/* <Tooltip title={I18n.t(\"full screen\")} placement=\"bottom\">\n            <IconButton\n              size=\"small\"\n              className=\"full-screen-btn\"\n              aria-label=\"Delete\"\n              onClick={openFullScreen}\n            >\n              {fullScreen ? (\n                <i className=\"material-icons\" fontSize=\"small\">\n                  fullscreen_exit\n                </i>\n              ) : (\n                <i className=\"material-icons\" fontSize=\"small\">\n                  fullscreen\n                </i>\n              )}\n            </IconButton>\n          </Tooltip>\n          <Tooltip title={I18n.t(\"toggle view\")} placement=\"bottom\">\n            <IconButton\n              size=\"small\"\n              className=\"show-preview-btn\"\n              onClick={this.openTogglePreview}\n            >\n              <i className=\"material-icons\" fontSize=\"small\">\n                chrome_reader_mode\n              </i>\n            </IconButton>\n          </Tooltip> */}\n        </div>\n        <div className=\"markdown\" />\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport * as Showdown from \"showdown\";\nimport Preview from \"./Preview\";\nimport \"draft-js/dist/Draft.css\";\nimport \"./style.css\";\nimport Drawer from \"./Drawer\";\nimport AppBar from \"./AppBar\";\nimport Markdown from \"./Markdown\";\nimport html2pdf from \"html2pdf.js\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport AlertDialog from \"./Dialog\";\nimport { defaultText, defaultChineseText } from \"./config\";\nimport { I18n } from \"react-i18nify\";\nimport en from \"../lang/en.json\";\nimport zh from \"../lang/zh.json\";\nimport \"./theme.css\";\n\nconst styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  fullContainer: {\n    width: \"100%\",\n    height: \"calc(100% - 64px)\",\n    overflow: \"hidden\"\n  },\n  left: {\n    width: \"50%\",\n    float: \"left\",\n    height: \"100%\",\n    overflow: \"hidden\"\n  },\n  right: {\n    width: \"50%\",\n    float: \"left\",\n    height: \"100%\",\n    overflow: \"hidden\"\n  }\n};\n\nlet settingStr = window.localStorage.getItem(\"pomeloJsonSettings\");\nlet settingObj = settingStr ? JSON.parse(settingStr) : {};\n\nlet defaultPrimary = settingObj.primary || \"#555555\";\nlet defaultSecondary = settingObj.secondary || \"#d32f2f\";\nlet defaultAutoSave = settingObj.autoSave || false;\nlet defaultLang = settingObj.lang || \"en\";\n\nI18n.setTranslations({\n  en,\n  zh\n});\n\nI18n.setLocale(defaultLang);\n\nconst th = createMuiTheme({\n  palette: {\n    primary: { main: defaultPrimary },\n    secondary: { main: defaultSecondary }\n  },\n  typography: { useNextVariants: true }\n});\n\nconst getDefaultText = () => {\n  let settingStr = window.localStorage.getItem(\"pomeloJsonSettings\");\n  let settingObj = settingStr ? JSON.parse(settingStr) : {};\n  if (settingObj.lang === \"en\") {\n    return defaultText;\n  }\n  return defaultChineseText;\n};\n\nexport default class MarkdownEditor extends React.Component {\n  state = {\n    theme: null,\n    primary: defaultPrimary,\n    secondary: defaultSecondary,\n    autoSave: defaultAutoSave,\n    lang: defaultLang,\n    fullScreen: false\n  };\n\n  constructor(props) {\n    super(props);\n    let historyList = window.localStorage.getItem(\"pomeloJson\");\n    if (historyList && JSON.parse(historyList).length !== 0) {\n      historyList = JSON.parse(historyList);\n      historyList[0].open = true;\n    } else {\n      historyList = [\n        {\n          id: Math.random(),\n          title: `${I18n.t(\"untitled document\")}-1.json`,\n          text: getDefaultText(),\n          save: true,\n          open: true\n        }\n      ];\n    }\n    this.state = {\n      current: 0,\n      left: false,\n      fileList: historyList,\n      snackOpen: false,\n      snackMsg: \"\",\n      openDialog: false,\n      openId: null\n    };\n    this.converter = new Showdown.Converter({\n      tables: true,\n      simplifiedAutoLink: true\n    });\n    this.saveCurrentDoc();\n  }\n\n  getIndex(list) {\n    if (list instanceof Array && list.length === 0) {\n      return 1;\n    }\n    let currentIndex =\n      list ||\n      this.state.fileList.map(item => {\n        return item.title.split(/-|\\./g)[1];\n      });\n    currentIndex = currentIndex.filter(item => !Number.isNaN(Number(item)));\n    if (currentIndex.length === 0) {\n      return 1;\n    }\n    let max = Math.max.apply(null, currentIndex) || 0;\n    return max + 1;\n  }\n\n  handleValueChange = value => {\n    this.updateFileListText(value);\n  };\n\n  updateFileListText(value) {\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (i === this.state.current) {\n        item.text = value;\n        item.save = false;\n      }\n    });\n    this.setState({\n      fileList: newFileList\n    });\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.handleEvents();\n    }, 700);\n    if (this.state.autoSave) {\n      this.autoSaveDoc();\n    }\n    this.addKeDownEvent();\n  }\n\n  getUrlVars() {\n    var vars = {};\n    window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(\n      m,\n      key,\n      value\n    ) {\n      vars[key] = value;\n    });\n    return vars;\n  }\n\n  addKeDownEvent = () => {\n    document.querySelector(\".markdown\").addEventListener(\"keydown\", e => {\n      if (e.ctrlKey && e.which === 83) {\n        this.saveCurrentDoc();\n        e.preventDefault();\n      }\n    });\n  };\n\n  saveCurrentDoc() {\n    let saved = false;\n    let currentIndex = this.state.current;\n    let currentDoc = this.state.fileList.filter(\n      (item, inde) => currentIndex === inde\n    );\n    let currentSaveStr = window.localStorage.getItem(\"pomeloJson\");\n    let currentSaveArr = currentSaveStr ? JSON.parse(currentSaveStr) : [];\n\n    currentSaveArr.forEach(item => {\n      if (item.id === currentDoc[0].id) {\n        item.text = currentDoc[0].text;\n        item.save = true;\n        saved = true;\n      }\n    });\n    if (!saved) {\n      currentDoc[0].save = true;\n      currentSaveArr.push(currentDoc[0]);\n    }\n    window.localStorage.setItem(\"pomeloJson\", JSON.stringify(currentSaveArr));\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (i === currentIndex) {\n        item.save = true;\n      }\n    });\n    this.setState({\n      fileList: newFileList\n    });\n  }\n\n  autoSaveDoc() {\n    if (this.saveTimer) {\n      clearInterval(this.saveTimer);\n    }\n    this.saveTimer = setInterval(() => {\n      this.saveDoc();\n    }, 30000);\n  }\n\n  updateTheme() {\n    const theme = createMuiTheme({\n      palette: {\n        primary: { main: this.state.primary || defaultPrimary },\n        secondary: { main: this.state.secondary || defaultSecondary }\n      },\n      typography: { useNextVariants: true }\n    });\n    this.setState({\n      theme\n    });\n  }\n\n  saveToLocalStorage(key, value) {\n    let settingStr = window.localStorage.getItem(\"pomeloJsonSettings\");\n    let settingObj = settingStr ? JSON.parse(settingStr) : {};\n    settingObj[key] = value;\n    window.localStorage.setItem(\n      \"pomeloJsonSettings\",\n      JSON.stringify(settingObj)\n    );\n  }\n\n  handleSettingChange = (key, value, type) => {\n    this.setState(\n      {\n        [key]: value\n      },\n      () => {\n        if (type !== \"settings\") {\n          this.updateTheme();\n        }\n        this.saveToLocalStorage(key, value);\n        if (key === \"autoSave\" && value) {\n          this.autoSaveDoc();\n        }\n        if (key === \"autoSave\" && !value) {\n          clearInterval(this.saveTimer);\n        }\n      }\n    );\n  };\n\n  toggleDrawer = () => {\n    this.setState({\n      left: !this.state.left\n    });\n  };\n\n  previewPdf = () => {\n    const { fileList, current } = this.state;\n    let element = document.getElementById(\"content\");\n    let opt = {\n      margin: [0.5, 0.5, 0.5, 0.5],\n      filename: fileList[current].title.replace(\".json\", \"\"),\n      image: { type: \"jpeg\", quality: 0.98 },\n      pagebreak: { mode: [\"avoid-all\"] },\n      html2canvas: {\n        dpi: 192,\n        letterRendering: true,\n        useCORS: true,\n        imageTimeout: 0\n      },\n      useCORS: true,\n      jsPDF: { unit: \"in\", format: \"letter\", orientation: \"portrait\" }\n    };\n    html2pdf()\n      .set(opt)\n      .from(element)\n      .toPdf()\n      .get(\"pdf\")\n      .then(function(pdf) {\n        window.open(pdf.output(\"bloburl\"), \"_blank\");\n      });\n  };\n\n  getPdf = callback => {\n    const { fileList, current } = this.state;\n    let element = document.getElementById(\"content\");\n    let opt = {\n      margin: [0.5, 0.5, 0.5, 0.5],\n      filename: fileList[current].title.replace(\".json\", \"\"),\n      image: { type: \"jpeg\", quality: 0.98 },\n      pagebreak: { mode: [\"avoid-all\"] },\n      html2canvas: {\n        dpi: 192,\n        letterRendering: true,\n        useCORS: true,\n        imageTimeout: 0\n      },\n      useCORS: true,\n      jsPDF: { unit: \"in\", format: \"letter\", orientation: \"portrait\" }\n    };\n    html2pdf()\n      .set(opt)\n      .from(element)\n      .toPdf()\n      .get(\"pdf\")\n      .then(function(pdf) {\n        callback(pdf.output(\"bloburl\"), \"aaa\");\n      });\n  };\n\n  exportPdf = () => {\n    const { fileList, current } = this.state;\n    let element = document.getElementById(\"content\");\n    let opt = {\n      margin: [0.5, 0.5, 0.5, 0.5],\n      filename: fileList[current].title.replace(\".json\", \"\"),\n      image: { type: \"jpeg\", quality: 0.98 },\n      pagebreak: { mode: [\"avoid-all\"] },\n      html2canvas: {\n        dpi: 192,\n        letterRendering: true,\n        useCORS: true,\n        imageTimeout: 0\n      },\n      useCORS: true,\n      jsPDF: { unit: \"in\", format: \"letter\", orientation: \"portrait\" }\n    };\n    html2pdf()\n      .set(opt)\n      .from(element)\n      .save();\n  };\n\n  previewHtml = () => {\n    const { fileList, current } = this.state;\n    let previewHtml = document.querySelector(\".preview\");\n    let win = window.open();\n    win.document.open();\n    let content = `<title>${fileList[current].title.replace(\n      /.json/gi,\n      \".html\"\n    )}</title>${previewHtml.innerHTML}`;\n    win.document.write(content);\n  };\n\n  previewMD = () => {\n    const { fileList, current } = this.state;\n    let win = window.open();\n    win.document.open();\n    let content = `<title>${fileList[current].title.replace(\n      /.json/gi,\n      \".json\"\n    )}</title>${fileList[current].text\n      .replace(/\\n|\\r/gi, \"<br/>\")\n      .replace(/\\t|\\s/gi, \"&nbsp;\")}`;\n    win.document.write(content);\n  };\n\n  exportHtml = () => {\n    const { fileList, current } = this.state;\n    let previewHtml = document.querySelector(\".preview\");\n    this.download(\n      fileList[current].title.replace(\".json\", \".html\"),\n      previewHtml.innerHTML\n    );\n  };\n\n  exportMD = () => {\n    const { fileList, current } = this.state;\n    this.download(fileList[current].title, fileList[current].text);\n  };\n\n  download(filename, text) {\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n    );\n    element.setAttribute(\"download\", filename);\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  getFileObj(id) {\n    return this.state.fileList.filter(item => item.id === id)[0];\n  }\n\n  switchFileById = id => {\n    let indexForId = 0;\n    this.state.fileList.forEach((item, index) => {\n      if (item.id === id) {\n        indexForId = index;\n      }\n    });\n    this.switchCurrent(indexForId);\n  };\n\n  closeFile = id => {\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (item.id === id) {\n        item.open = false;\n      }\n    });\n    window.localStorage.setItem(\"pomeloJson\", JSON.stringify(newFileList));\n    this.setState(\n      {\n        fileList: newFileList\n      },\n      () => {\n        this.switchCurrent(-1);\n        let switched = false;\n        newFileList.forEach((item, index) => {\n          if (item.open && !switched) {\n            this.switchCurrent(index);\n            switched = true;\n          }\n        });\n      }\n    );\n  };\n\n  openFile = index => {\n    let openId = 0;\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (i === index) {\n        item.open = true;\n        openId = item.id;\n      }\n    });\n    this.setState({\n      fileList: newFileList\n    });\n    let currentSaveStr = window.localStorage.getItem(\"pomeloJson\");\n    let currentSaveArr = currentSaveStr ? JSON.parse(currentSaveStr) : [];\n    currentSaveArr.forEach(item => {\n      if (item.id === openId) {\n        item.open = true;\n      }\n    });\n    window.localStorage.setItem(\"pomeloJson\", JSON.stringify(currentSaveArr));\n  };\n\n  switchCurrent = index => {\n    this.setState(\n      {\n        current: index\n      },\n      () => {\n        this.handleEvents();\n      }\n    );\n  };\n\n  handleEvents() {\n    let preview = document.querySelector(\".preview\");\n    let md = document.querySelector(\".CodeMirror-scroll\");\n    if (!md) {\n      return;\n    }\n    let scroolDom = -1;\n    let timer = null;\n    const reset = () => {\n      if (timer !== null) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(function() {\n        scroolDom = -1;\n      }, 20);\n    };\n    md.addEventListener(\"scroll\", e => {\n      if (scroolDom === -1) {\n        scroolDom = 0;\n        let scrollScale =\n          e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight);\n        preview.scrollTop =\n          (preview.scrollHeight - preview.clientHeight) * scrollScale;\n        reset();\n      }\n    });\n\n    preview.addEventListener(\"scroll\", e => {\n      if (scroolDom === -1) {\n        scroolDom = 1;\n        let scrollScale =\n          e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight);\n        md.scrollTop = (md.scrollHeight - md.clientHeight) * scrollScale;\n        reset();\n      }\n    });\n  }\n\n  deleteAction = id => {\n    this.setState({\n      openDialog: true,\n      openId: id\n    });\n  };\n\n  addDocment = (\n    e,\n    name = `${I18n.t(\"untitled document\")}-${this.getIndex()}.json`,\n    text = getDefaultText()\n  ) => {\n    this.setState(\n      {\n        fileList: [\n          ...this.state.fileList,\n          {\n            id: Math.random(),\n            title: name,\n            text: text,\n            save: true,\n            open: true\n          }\n        ]\n      },\n      () => {\n        let curr = this.state.fileList.length - 1;\n        this.setState(\n          {\n            current: curr\n          },\n          () => {\n            this.switchCurrent(curr);\n            this.saveCurrentDoc();\n          }\n        );\n      }\n    );\n  };\n\n  saveDoc = () => {\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach(item => {\n      item.save = true;\n    });\n    let cache = JSON.stringify(newFileList);\n    window.localStorage.setItem(\"pomeloJson\", cache);\n    this.setState({\n      fileList: newFileList\n    });\n    this.showMessage(\"Save Documents Successfully.\");\n  };\n\n  updateTitle = (id, value) => {\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (id === item.id) {\n        item.title = value;\n      }\n    });\n    this.setState({\n      fileList: newFileList\n    });\n    let currentSaveStr = window.localStorage.getItem(\"pomeloJson\");\n    let currentSaveArr = currentSaveStr ? JSON.parse(currentSaveStr) : [];\n    currentSaveArr.forEach(item => {\n      if (item.id === id) {\n        item.title = value;\n      }\n    });\n    window.localStorage.setItem(\"pomeloJson\", JSON.stringify(currentSaveArr));\n  };\n\n  closeSnack = () => {\n    this.setState({\n      snackOpen: false\n    });\n  };\n\n  toggleDialog = confirmed => {\n    this.setState(\n      {\n        openDialog: !this.state.openDialog,\n        current: -1\n      },\n      () => {\n        if (confirmed) {\n          let newList = [...this.state.fileList];\n          let temp = newList.filter(item => item.id === this.state.openId)[0];\n          newList = newList.filter(item => item.id !== this.state.openId);\n          if (newList.length === 0) {\n            newList[0] = temp;\n            newList[0].title = `${I18n.t(\"untitled document\")}-${this.getIndex(\n              []\n            )}.json`;\n            newList[0].text = getDefaultText();\n            newList[0].save = true;\n            newList[0].open = true;\n          }\n          let openIndex = 0;\n          let gotIndex = false;\n          this.state.fileList.forEach((item, index) => {\n            if (item.open && !gotIndex) {\n              openIndex = index;\n              gotIndex = true;\n            }\n          });\n          if (!gotIndex) {\n            this.openFile(openIndex);\n          }\n          this.setState(\n            {\n              fileList: newList,\n              current: openIndex\n            },\n            () => {\n              this.switchCurrent(openIndex);\n              this.deleteById(this.state.openId);\n            }\n          );\n        }\n      }\n    );\n  };\n\n  deleteById(id) {\n    let currentSaveStr = window.localStorage.getItem(\"pomeloJson\");\n    let currentSaveArr = currentSaveStr ? JSON.parse(currentSaveStr) : [];\n    let newFiles = currentSaveArr.filter(item => item.id !== id);\n    window.localStorage.setItem(\"pomeloJson\", JSON.stringify(newFiles));\n  }\n\n  showMessage = msg => {\n    this.setState(\n      {\n        snackMsg: msg\n      },\n      () => {\n        this.setState({\n          snackOpen: true\n        });\n      }\n    );\n  };\n\n  openFullScreen = () => {\n    let elem = document.querySelector(\".full-container\");\n    if (\n      this.state.fullScreen === undefined ||\n      this.state.fullScreen === false\n    ) {\n      console.log(\"full\");\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.mozRequestFullScreen) {\n        elem.mozRequestFullScreen();\n      } else if (elem.webkitRequestFullscreen) {\n        elem.webkitRequestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n      }\n      this.setState({\n        fullScreen: true\n      });\n    } else {\n      console.log(\"exit\");\n      if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n      }\n      this.setState({\n        fullScreen: false\n      });\n    }\n  };\n\n  importMD = e => {\n    let file = e.target.files[0];\n    if (!file) {\n      return;\n    }\n    let reader = new FileReader();\n    reader.onload = e => {\n      let contents = e.target.result;\n      this.addDocment(null, file.name, contents);\n      this.switchCurrent(this.state.fileList.length - 1);\n    };\n    reader.readAsText(file);\n  };\n\n  render() {\n    const {\n      fileList,\n      left,\n      current,\n      snackOpen,\n      snackMsg,\n      openDialog,\n      openId,\n      theme,\n      primary,\n      autoSave,\n      lang,\n      fullScreen\n    } = this.state;\n    let deleteId = 0;\n    fileList.forEach((item, index) => {\n      if (item.id === openId) {\n        deleteId = index;\n      }\n    });\n    const DialogContent = () => {\n      return (\n        <div>\n          {fileList[deleteId].title}\n          <br />\n          Words Count:{\" \"}\n          {\n            fileList[deleteId].text\n              .split(/\\s|\\t|\\n/gi)\n              .filter(item => item.trim() !== \"\").length\n          }\n        </div>\n      );\n    };\n    return (\n      <MuiThemeProvider theme={theme || th}>\n        <div style={styles.container}>\n          <AlertDialog\n            title=\"Are you sure you want to delete this document?\"\n            content={<DialogContent />}\n            open={openDialog}\n            toggleDialog={this.toggleDialog}\n          />\n          <AppBar\n            toggleDrawer={this.toggleDrawer}\n            exportMD={this.exportMD}\n            exportPdf={this.exportPdf}\n            exportHtml={this.exportHtml}\n            previewHtml={this.previewHtml}\n            previewPdf={this.previewPdf}\n            previewMD={this.previewMD}\n            importMD={this.importMD}\n            handleSettingChange={this.handleSettingChange}\n            primaryColor={primary || defaultPrimary}\n            autoSave={autoSave === undefined ? defaultAutoSave : autoSave}\n            lang={lang || defaultLang}\n          />\n          <Drawer\n            open={left}\n            toggleDrawer={this.toggleDrawer}\n            fileList={fileList}\n            switchCurrent={this.switchCurrent}\n            addDocment={this.addDocment}\n            deleteAction={this.deleteAction}\n            saveDoc={this.saveDoc}\n            current={current}\n            updateTitle={this.updateTitle}\n            openFile={this.openFile}\n          />\n          <div className=\"full-container\" style={styles.fullContainer}>\n            <div className=\"app-left\" style={styles.left}>\n              {current !== -1 ? (\n                <Markdown\n                  title={fileList[current].title}\n                  save={fileList[current].save}\n                  fileList={fileList}\n                  handleValueChange={this.handleValueChange}\n                  value={fileList[current].text}\n                  current={current}\n                  openFullScreen={this.openFullScreen}\n                  switchFileById={this.switchFileById}\n                  closeFile={this.closeFile}\n                  currentId={fileList[current].id}\n                  addKeDownEvent={this.addKeDownEvent}\n                  fullScreen={fullScreen}\n                />\n              ) : null}\n            </div>\n            <div className=\"app-right\" style={styles.right}>\n              {current !== -1 ? (\n                <Preview input={fileList[current].text} getPdf={this.getPdf} />\n              ) : null}\n            </div>\n          </div>\n          <Snackbar\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"left\"\n            }}\n            open={snackOpen}\n            autoHideDuration={6000}\n            onClose={this.closeSnack}\n            message={<span id=\"message-id\">{snackMsg}</span>}\n            action={[\n              <IconButton\n                key=\"close\"\n                aria-label=\"Close\"\n                color=\"inherit\"\n                onClick={this.closeSnack}\n              >\n                <CloseIcon />\n              </IconButton>\n            ]}\n          />\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n","export const defaultText = `{\r\n  \"example1\": [\r\n      {\r\n          \"name\": \"test01\",\r\n          \"age\": 18,\r\n          \"gender\": 0,\r\n          \"student\": true,\r\n          \"children\": null\r\n      },\r\n      {\r\n          \"name\": \"test02\",\r\n          \"age\": 19,\r\n          \"gender\": 1,\r\n          \"student\": true,\r\n          \"children\": null\r\n      }\r\n  ],\r\n  \"example2\": {\r\n      \"friuts\": [\"apple\", \"grape\", \"jujube\", \"pear\"],\r\n      \"transport\": [\"taxi\", \"bus\", \"metro\", \"plane\", \"train\"]\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n`;\r\n\r\nexport const defaultChineseText = `{\r\n  \"example1\": [\r\n      {\r\n          \"name\": \"test01\",\r\n          \"age\": 18,\r\n          \"gender\": 0,\r\n          \"student\": true,\r\n          \"children\": null\r\n      },\r\n      {\r\n          \"name\": \"test02\",\r\n          \"age\": 19,\r\n          \"gender\": 1,\r\n          \"student\": true,\r\n          \"children\": null\r\n      }\r\n  ],\r\n  \"example2\": {\r\n      \"friuts\": [\"apple\", \"grape\", \"jujube\", \"pear\"],\r\n      \"transport\": [\"taxi\", \"bus\", \"metro\", \"plane\", \"train\"]\r\n  }\r\n}\r\n\r\n\r\n`;\r\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { view as MarkdownEditor } from \"./markdownEditor\";\nimport \"./styles.css\";\n\nconst App = () => <MarkdownEditor />;\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}